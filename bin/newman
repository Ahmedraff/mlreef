#!/bin/sh
# This shell script provides a predictable docker-based version of the application in use.
# Thereby creating a predictable environment for development, building, and debugging

# This image must correspond with the base image in web/Dockerfile
IMAGE="registry.gitlab.com/systemkern/s5:latest-newman"
COMMAND="newman"

export DOCKER_OPTS="${DOCKER_OPTS--it}"

docker run --rm \$DOCKER_OPTS   \
  --network bridge                                    \
  --volume  /var/run/docker.sock:/var/run/docker.sock \
  --volume  \$HOME:/root                              \
  --volume  \$PWD:\$PWD                               \
  --workdir \$PWD                                     \
  "$IMAGE" "$COMMAND" "$@"

